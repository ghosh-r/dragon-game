* 000000 [Engine] Log started at 2023/1/3 23:46:56
* 000000 [Engine] This copy of the engine is git hash 70cd0b7d234544363972651eca364581f9fe0eb1, built on Nov 12 2022, at 04:34:35
* 000000 [Engine] Platform: Linux
* 000000 [Engine] 
* 000000 [Engine] *******************************************************************************************
* 000000 [Engine] *** This is the Standard license build!                                                 ***
* 000000 [Engine] *** Get more with an Indie or Pro license such as C extensions, mobile dev, and VR dev! ***
* 000000 [Engine] *** Details at http://dragonruby.org/toolkit/game#purchase                              ***
* 000000 [Engine] *******************************************************************************************
* 000000 [Engine] 
! 000000 [Engine] Metadata file does not have all required fields!
- 000000 [Engine] Game Dir: /home/ritog/coding/ruby-game/dragon-game//mygame
- 000000 [Engine] Game ID: hello-SDL
- 000000 [Engine] Game Title: Update metadata/game_metadata.txt in your mygame directory to change this title.
- 000000 [Engine] Game Version: 1.0
- 000000 [Engine] Game Package ID: org.dragonruby.hello-SDL
- 000000 [Engine] Game Developer ID: dragonruby
- 000000 [Engine] Game Developer Title: DragonRuby LLC
- 000000 [Engine] Production Build: no
- 000000 [Engine] Remote Hotload: no
? 000000 [Engine] Loading cvars from file 'metadata/cvars.txt' ...
? 000000 [Engine] File 'metadata/cvars.txt' line 1 setting cvar 'log.filter_subsystems' to 'HTTPServer'
? 000000 [Engine] File 'metadata/cvars.txt' complete
? 000000 [Engine] RNG seed has been set to 1672769817.
- 000000 [Engine] Janitor is using 4 threads.
- 000000 [Game] Game state and exception will be written to logs/exceptions/game_state_0.txt and logs/exceptions/current.txt.
- 000000 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 97:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace: (0)
- 000031 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 98:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace: (1858)
? 000034 [Engine] Marked app/main.rb for reload. (2038)
- 000034 [Game] * INFO: New methods discovered.
** :spawn_target

- 000049 [Game] * WARNING:
Your average framerate dropped below 60 fps for two seconds.

The average FPS was 17.89795918367347.

** How To Disable Warning
If this warning is getting annoying put the following in your tick method:

#+begin_src
  args.gtk.log_level = :off
#+end_src

* INFO: Framerate Diagnostics
You can display these diagnostics using:

#+begin_src
  def tick args
    # ....

    # IMPORTANT: Put this at the END of the ~tick~ method.
    args.outputs.debug << args.gtk.framerate_diagnostics_primitives
  end
#+end_src

** Draw Calls: ~<<~ Invocation Perf Counter
Here is how many times ~args.outputs.PRIMITIVE_ARRAY <<~ was called:

  2 times invoked.

If the number above is high, consider batching primitives so you can lower the invocation of ~<<~. For example.

Instead of:

#+begin_src
  args.state.enemies.map do |e|
    e.alpha = 128
    args.outputs.sprites << e # <-- ~args.outputs.sprites <<~ is invoked a lot
  end
#+end_src

Do this:

#+begin_src
  args.outputs.sprites << args.state
                              .enemies
                              .map do |e| # <-- ~args.outputs.sprites <<~ is only invoked once.
    e.alpha = 128
    e
  end
#+end_src

** Array Primitives
~Primitives~ represented as an ~Array~ (~Tuple~) are great for prototyping, but are not as performant as using a ~Hash~.

Here is the number of ~Array~ primitives that were encountered:

  0 Array Primitives.

If the number above is high, consider converting them to hashes. For example.

Instead of:

#+begin_src
  args.outputs.sprites << [0, 0, 100, 100, 'sprites/enemy.png']
#+begin_end

Do this:

#+begin_src
  args.outputs.sprites << { x: 0,
                            y: 0,
                            w: 100,
                            h: 100,
                            path: 'sprites/enemy.png' }
#+begin_end

** Primitive Counts
Here are the draw counts ordered by lowest to highest z order:

PRIMITIVE   COUNT, STATIC COUNT
solids:     0, 0
sprites:    20, 0
primitives: 0, 0
labels:     16, 0
lines:      0, 0
borders:    0, 0
debug:      0, 0
reserved:   0, 0

** Additional Help
Come to the DragonRuby Discord channel if you need help troubleshooting performance issues. http://discord.dragonruby.org.

Source code for these diagnostics can be found at: [[https://github.com/dragonruby/dragonruby-game-toolkit-contrib/]]


? 000359 [Engine] Marked app/main.rb for reload. (21536)
? 000359 [Engine] RNG seed has been set to 1672769817.
? 000360 [Engine] Marked app/main.rb for reload. (21598)
? 000360 [Engine] RNG seed has been set to 1672769817.
? 000508 [Engine] Marked app/main.rb for reload. (30480)
? 000508 [Engine] RNG seed has been set to 1672769817.
? 000511 [Engine] Marked app/main.rb for reload. (30662)
? 000511 [Engine] RNG seed has been set to 1672769817.
- 000517 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 96:6: syntax error, unexpected local variable or method, expecting '|'



** Backtrace:
*** app/main.rb:100 (31024)
- 000518 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 100:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (31084)
- 000578 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 101:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (34684)
- 000580 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 101:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (34804)
- 000585 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 101:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (35104)
- 000590 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 101:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (35403)
- 000594 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 101:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (35643)
- 000597 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 101:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (35823)
- 000695 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 101:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (41703)
- 000701 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 101:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (42063)
- 000705 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 102:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (42303)
- 000708 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 102:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (42483)
- 000709 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 102:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (42543)
- 000712 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 102:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (42723)
- 000715 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 102:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (42903)
- 000723 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 102:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (43382)
- 000728 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 103:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (43682)
- 000732 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 103:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (43922)
- 000734 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 104:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (44042)
- 000742 [Game] * EXCEPTION:
** Failed to reload app/main.rb.
line 104:10: syntax error, unexpected end of file, expecting keyword_end



** Backtrace:
*** app/main.rb:100 (44521)
? 000744 [Engine] Marked app/main.rb for reload. (44641)
? 000744 [Engine] RNG seed has been set to 1672769817.
? 000853 [Engine] Marked app/main.rb for reload. (51183)
? 000853 [Engine] RNG seed has been set to 1672769817.
? 000856 [Engine] Marked app/main.rb for reload. (51364)
? 000856 [Engine] RNG seed has been set to 1672769817.
? 000859 [Engine] Marked app/main.rb for reload. (51546)
? 000859 [Engine] RNG seed has been set to 1672769817.
? 000861 [Engine] Marked app/main.rb for reload. (51668)
? 000861 [Engine] RNG seed has been set to 1672769817.
? 000935 [Engine] Marked app/main.rb for reload. (56109)
? 000935 [Engine] RNG seed has been set to 1672769817.
? 000942 [Engine] Marked app/main.rb for reload. (56531)
? 000942 [Engine] RNG seed has been set to 1672769817.
? 000975 [Engine] Marked app/main.rb for reload. (58511)
? 000975 [Engine] RNG seed has been set to 1672769817.
? 000986 [Engine] Marked app/main.rb for reload. (59173)
? 000986 [Engine] RNG seed has been set to 1672769817.
? 000990 [Engine] Marked app/main.rb for reload. (59355)
? 000990 [Engine] RNG seed has been set to 1672769817.
? 000991 [Engine] Marked app/main.rb for reload. (59417)
? 000991 [Engine] RNG seed has been set to 1672769817.
? 001440 [Engine] Marked app/main.rb for reload. (86359)
? 001440 [Engine] RNG seed has been set to 1672769817.
? 001444 [Engine] Marked app/main.rb for reload. (86601)
? 001444 [Engine] RNG seed has been set to 1672769817.
? 001942 [Engine] Marked app/main.rb for reload. (116482)
? 001942 [Engine] RNG seed has been set to 1672769817.
? 001964 [Engine] Marked app/main.rb for reload. (117802)
? 001964 [Engine] RNG seed has been set to 1672769817.
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001967 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001968 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001969 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
- 001978 [Game] fireball hit target!
